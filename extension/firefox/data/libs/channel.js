(function() { function h(a){throw a;}
var myHost = "http://cloud.droidgiro.se";
var i=true,j=null,k=false,m,p=this,r=function(a,b,c){a=a.split(".");c=c||p;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)if(!a.length&&b!==undefined)c[d]=b;else c=c[d]?c[d]:c[d]={}},aa=function(a,b){for(var c=a.split("."),d=b||p,f;f=c.shift();)if(d[f])d=d[f];else return j;return d},ba=function(){},ca=function(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length==
"number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";else if(b=="function"&&typeof a.call=="undefined")return"object";return b},s=function(a){return ca(a)=="array"},u=function(a){var b=ca(a);return b==
"array"||b=="object"&&typeof a.length=="number"},v=function(a){return typeof a=="string"},da=function(a){return ca(a)=="function"},ea=function(a){a=ca(a);return a=="object"||a=="array"||a=="function"},ha=function(a){return a[fa]||(a[fa]=++ga)},fa="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ga=0,ia=function(){return Function.prototype.call.apply(Function.prototype.bind,arguments)},ja=function(a,b){var c=b||p;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);
return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,d);return a.apply(c,f)}}else return function(){return a.apply(c,arguments)}},w=function(){w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ia:ja;return w.apply(j,arguments)},ka=Date.now||function(){return+new Date},x=function(a,b){function c(){}c.prototype=b.prototype;a.H=b.prototype;a.prototype=new c;a.prototype.constructor=a};
Function.prototype.bind=Function.prototype.bind||function(a){if(arguments.length>1){var b=Array.prototype.slice.call(arguments,1);b.unshift(this,a);return w.apply(j,b)}else return w(this,a)};var y=function(){};y.prototype.qa=k;y.prototype.V=function(){if(!this.qa){this.qa=i;this.i()}};y.prototype.i=function(){};var la=function(a){this.stack=Error().stack||"";if(a)this.message=String(a)};x(la,Error);la.prototype.name="CustomError";var ma=function(a){for(var b=1;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a},na=/^[a-zA-Z0-9\-_.!~*'()]*$/,oa=function(a){a=String(a);if(!na.test(a))return encodeURIComponent(a);return a},ua=function(a,b){if(b)return a.replace(pa,"&amp;").replace(qa,"&lt;").replace(ra,"&gt;").replace(sa,"&quot;");else{if(!ta.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(pa,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(qa,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(ra,
"&gt;");if(a.indexOf('"')!=-1)a=a.replace(sa,"&quot;");return a}},pa=/&/g,qa=/</g,ra=/>/g,sa=/\"/g,ta=/[&<>\"]/,wa=function(a,b){for(var c=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=String(b).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(d.length,f.length),g=0;c==0&&g<e;g++){var l=d[g]||"",o=f[g]||"",n=RegExp("(\\d*)(\\D*)","g"),E=RegExp("(\\d*)(\\D*)","g");do{var t=n.exec(l)||["","",""],q=E.exec(o)||["","",""];if(t[0].length==0&&q[0].length==0)break;c=t[1].length==
0?0:parseInt(t[1],10);var C=q[1].length==0?0:parseInt(q[1],10);c=va(c,C)||va(t[2].length==0,q[2].length==0)||va(t[2],q[2])}while(c==0)}return c},va=function(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var xa=function(a,b){b.unshift(a);la.call(this,ma.apply(j,b));b.shift();this.uc=a};x(xa,la);xa.prototype.name="AssertionError";var ya=function(a,b){if(!a){var c=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(b){d+=": "+b;var f=c}h(new xa(""+d,f||[]))}return a},za=function(a){h(new xa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var z=Array.prototype,Aa=z.indexOf?function(a,b,c){ya(a.length!=j);return z.indexOf.call(a,b,c)}:function(a,b,c){c=c==j?0:c<0?Math.max(0,a.length+c):c;if(v(a)){if(!v(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(c=c;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ba=z.forEach?function(a,b,c){ya(a.length!=j);z.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=v(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)},Ca=function(a,b){var c=Aa(a,b),d;if(d=c>=0){ya(a.length!=j);z.splice.call(a,
c,1)}return d},Da=function(){return z.concat.apply(z,arguments)},Ea=function(a){if(s(a))return Da(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}},Fa=function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(s(c)||(d=u(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var f=a.length,e=c.length,g=0;g<e;g++)a[f+g]=c[g];else a.push(c)}},Ga=function(a,b,c){ya(a.length!=j);return arguments.length<=2?z.slice.call(a,b):z.slice.call(a,b,c)};var Ha=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},Ia=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Ja=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Ka=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],La=function(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var f=0;f<Ka.length;f++){b=Ka[f];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}};var Ma,Na,Oa,Pa,Qa,Ra=function(){return p.navigator?p.navigator.userAgent:j},Sa=function(){return p.navigator};Pa=Oa=Na=Ma=k;var Ta;if(Ta=Ra()){var Ua=Sa();Ma=Ta.indexOf("Opera")==0;Na=!Ma&&Ta.indexOf("MSIE")!=-1;(Oa=!Ma&&Ta.indexOf("WebKit")!=-1)&&Ta.indexOf("Mobile");Pa=!Ma&&!Oa&&Ua.product=="Gecko"}var Va=Ma,A=Na,Wa=Pa,B=Oa,Xa=Sa(),Ya=Xa&&Xa.platform||"";Qa=Ya.indexOf("Mac")!=-1;Ya.indexOf("Win");Ya.indexOf("Linux");Sa()&&(Sa().appVersion||"").indexOf("X11");var Za;
a:{var $a="",ab;if(Va&&p.opera){var bb=p.opera.version;$a=typeof bb=="function"?bb():bb}else{if(Wa)ab=/rv\:([^\);]+)(\)|;)/;else if(A)ab=/MSIE\s+([^\);]+)(\)|;)/;else if(B)ab=/WebKit\/(\S+)/;if(ab){var cb=ab.exec(Ra());$a=cb?cb[1]:""}}if(A){var db,eb=p.document;db=eb?eb.documentMode:undefined;if(db>parseFloat($a)){Za=String(db);break a}}Za=$a}var fb=Za,gb={},hb=function(a){return gb[a]||(gb[a]=wa(fb,a)>=0)};var ib,jb=!A||hb("9");A&&hb("9");var kb=function(a){var b;b=(b=a.className)&&typeof b.split=="function"?b.split(/\s+/):[];var c;c=Ga(arguments,1);for(var d=0,f=0;f<c.length;f++)if(!(Aa(b,c[f])>=0)){b.push(c[f]);d++}c=d==c.length;a.className=b.join(" ");return c};var D=function(a){return a?new lb(a.nodeType==9?a:a.ownerDocument||a.document):ib||(ib=new lb)},mb=function(a,b,c,d){a=d||a;var f=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!B||document.compatMode=="CSS1Compat"||hb("528"))&&(f||c))return a.querySelectorAll(f+(c?"."+c:""));if(c&&a.getElementsByClassName){b=a.getElementsByClassName(c);if(f){a={};for(var e=d=0,g;g=b[e];e++)if(f==g.nodeName)a[d++]=g;a.length=d;return a}else return b}b=a.getElementsByTagName(f||"*");if(c){a=
{};for(e=d=0;g=b[e];e++){f=g.className;var l;if(l=typeof f.split=="function"){f=f.split(/\s+/);l=Aa(f,c)>=0}if(l)a[d++]=g}a.length=d;return a}else return b},ob=function(a,b){Ha(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in nb)a.setAttribute(nb[d],c);else a[d]=c})},nb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",
type:"type"},qb=function(a,b,c,d){function f(g){if(g)b.appendChild(v(g)?a.createTextNode(g):g)}for(d=d;d<c.length;d++){var e=c[d];u(e)&&!(ea(e)&&e.nodeType>0)?Ba(pb(e)?Ea(e):e,f):f(e)}},rb=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):j},pb=function(a){if(a&&typeof a.length=="number")if(ea(a))return typeof a.item=="function"||typeof a.item=="string";else if(da(a))return typeof a.item=="function";return k},lb=function(a){this.r=a||p.document||document};m=lb.prototype;
m.hb=function(){var a=this.r,b=arguments,c=b[0],d=b[1];if(!jb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',ua(d.name),'"');if(d.type){c.push(' type="',ua(d.type),'"');var f={};La(f,d);d=f;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(v(d))c.className=d;else s(d)?kb.apply(j,[c].concat(d)):ob(c,d);b.length>2&&qb(a,c,b,2);return c};m.createElement=function(a){return this.r.createElement(a)};m.createTextNode=function(a){return this.r.createTextNode(a)};
m.e=function(){return this.r.parentWindow||this.r.defaultView};m.appendChild=function(a,b){a.appendChild(b)};m.removeNode=rb;var sb;!A||hb("9");A&&hb("8");var tb=function(a,b){this.type=a;this.currentTarget=this.target=b};x(tb,y);tb.prototype.i=function(){delete this.type;delete this.target;delete this.currentTarget};tb.prototype.Na=k;tb.prototype.hc=i;var ub=function(a,b){a&&this.ta(a,b)};x(ub,tb);m=ub.prototype;m.target=j;m.relatedTarget=j;m.offsetX=0;m.offsetY=0;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.button=0;m.keyCode=0;m.charCode=0;m.ctrlKey=k;m.altKey=k;m.shiftKey=k;m.metaKey=k;m.cc=k;m.Ha=j;
m.ta=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Wa)try{d=d.nodeName&&d}catch(f){d=j}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;
this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.cc=Qa?a.metaKey:a.ctrlKey;this.state=a.state;this.Ha=a;delete this.hc;delete this.Na};m.i=function(){ub.H.i.call(this);this.relatedTarget=this.currentTarget=this.target=this.Ha=j};var F=function(a,b){this.sb=b;this.K=[];if(a>this.sb)h(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.K.push(this.A?this.A():{})};x(F,y);F.prototype.A=j;F.prototype.jb=j;var vb=function(a){if(a.K.length)return a.K.pop();return a.A?a.A():{}},xb=function(a,b){a.K.length<a.sb?a.K.push(b):wb(a,b)},wb=function(a,b){if(a.jb)a.jb(b);else if(ea(b))if(da(b.V))b.V();else for(var c in b)delete b[c]};
F.prototype.i=function(){F.H.i.call(this);for(var a=this.K;a.length;)wb(this,a.pop());delete this.K};var yb;var zb=(yb="ScriptEngine"in p&&p.ScriptEngine()=="JScript")?p.ScriptEngineMajorVersion()+"."+p.ScriptEngineMinorVersion()+"."+p.ScriptEngineBuildVersion():"0";var Ab=function(){},Bb=0;m=Ab.prototype;m.P=0;m.ba=k;m.$a=k;m.ta=function(a,b,c,d,f,e){if(da(a))this.pb=i;else if(a&&a.handleEvent&&da(a.handleEvent))this.pb=k;else h(Error("Invalid listener argument"));this.ia=a;this.Ab=b;this.src=c;this.type=d;this.bb=!!f;this.Ia=e;this.$a=k;this.P=++Bb;this.ba=k};m.handleEvent=function(a){if(this.pb)return this.ia.call(this.Ia||this.src,a);return this.ia.handleEvent.call(this.ia,a)};var Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb;
(function(){function a(){return{h:0,aa:0}}function b(){return[]}function c(){var q=function(C){return g.call(q.src,q.P,C)};return q}function d(){return new Ab}function f(){return new ub}var e=yb&&!(wa(zb,"5.7")>=0),g;Hb=function(q){g=q};if(e){Cb=function(){return vb(l)};Db=function(q){xb(l,q)};Eb=function(){return vb(o)};Fb=function(q){xb(o,q)};Gb=function(){return vb(n)};Ib=function(){xb(n,c())};Jb=function(){return vb(E)};Kb=function(q){xb(E,q)};Lb=function(){return vb(t)};Mb=function(q){xb(t,q)};
var l=new F(0,600);l.A=a;var o=new F(0,600);o.A=b;var n=new F(0,600);n.A=c;var E=new F(0,600);E.A=d;var t=new F(0,600);t.A=f}else{Cb=a;Db=ba;Eb=b;Fb=ba;Gb=c;Ib=ba;Jb=d;Kb=ba;Lb=f;Mb=ba}})();var Nb={},G={},Ob={},Pb={},Qb=function(a,b,c,d,f){if(b)if(s(b)){for(var e=0;e<b.length;e++)Qb(a,b[e],c,d,f);return j}else{d=!!d;var g=G;b in g||(g[b]=Cb());g=g[b];if(!(d in g)){g[d]=Cb();g.h++}g=g[d];var l=ha(a),o;g.aa++;if(g[l]){o=g[l];for(e=0;e<o.length;e++){g=o[e];if(g.ia==c&&g.Ia==f){if(g.ba)break;return o[e].P}}}else{o=g[l]=Eb();g.h++}e=Gb();e.src=a;g=Jb();g.ta(c,e,a,b,d,f);c=g.P;e.P=c;o.push(g);Nb[c]=g;Ob[l]||(Ob[l]=Eb());Ob[l].push(g);if(a.addEventListener){if(a==p||!a.Nb)a.addEventListener(b,
e,d)}else a.attachEvent(Rb(b),e);return c}else h(Error("Invalid event type"))},Sb=function(a,b,c,d,f){if(s(b)){for(var e=0;e<b.length;e++)Sb(a,b[e],c,d,f);return j}d=!!d;a:{e=G;if(b in e){e=e[b];if(d in e){e=e[d];a=ha(a);if(e[a]){a=e[a];break a}}}a=j}if(!a)return k;for(e=0;e<a.length;e++)if(a[e].ia==c&&a[e].bb==d&&a[e].Ia==f)return Tb(a[e].P);return k},Tb=function(a){if(!Nb[a])return k;var b=Nb[a];if(b.ba)return k;var c=b.src,d=b.type,f=b.Ab,e=b.bb;if(c.removeEventListener){if(c==p||!c.Nb)c.removeEventListener(d,
f,e)}else c.detachEvent&&c.detachEvent(Rb(d),f);c=ha(c);f=G[d][e][c];if(Ob[c]){var g=Ob[c];Ca(g,b);g.length==0&&delete Ob[c]}b.ba=i;f.xb=i;Ub(d,e,c,f);delete Nb[a];return i},Ub=function(a,b,c,d){if(!d.ua)if(d.xb){for(var f=0,e=0;f<d.length;f++)if(d[f].ba){var g=d[f].Ab;g.src=j;Ib(g);Kb(d[f])}else{if(f!=e)d[e]=d[f];e++}d.length=e;d.xb=k;if(e==0){Fb(d);delete G[a][b][c];G[a][b].h--;if(G[a][b].h==0){Db(G[a][b]);delete G[a][b];G[a].h--}if(G[a].h==0){Db(G[a]);delete G[a]}}}},Rb=function(a){if(a in Pb)return Pb[a];
return Pb[a]="on"+a},Wb=function(a,b,c,d,f){var e=1;b=ha(b);if(a[b]){a.aa--;a=a[b];if(a.ua)a.ua++;else a.ua=1;try{for(var g=a.length,l=0;l<g;l++){var o=a[l];if(o&&!o.ba)e&=Vb(o,f)!==k}}finally{a.ua--;Ub(c,d,b,a)}}return Boolean(e)},Vb=function(a,b){var c=a.handleEvent(b);a.$a&&Tb(a.P);return c};
Hb(function(a,b){if(!Nb[a])return i;var c=Nb[a],d=c.type,f=G;if(!(d in f))return i;f=f[d];var e,g;if(sb===undefined)sb=A&&!p.addEventListener;if(sb){e=b||aa("window.event");var l=i in f,o=k in f;if(l){if(e.keyCode<0||e.returnValue!=undefined)return i;a:{var n=k;if(e.keyCode==0)try{e.keyCode=-1;break a}catch(E){n=i}if(n||e.returnValue==undefined)e.returnValue=i}}n=Lb();n.ta(e,this);e=i;try{if(l){for(var t=Eb(),q=n.currentTarget;q;q=q.parentNode)t.push(q);g=f[i];g.aa=g.h;for(var C=t.length-1;!n.Na&&
C>=0&&g.aa;C--){n.currentTarget=t[C];e&=Wb(g,t[C],d,i,n)}if(o){g=f[k];g.aa=g.h;for(C=0;!n.Na&&C<t.length&&g.aa;C++){n.currentTarget=t[C];e&=Wb(g,t[C],d,k,n)}}}else e=Vb(c,n)}finally{if(t){t.length=0;Fb(t)}n.V();Mb(n)}return e}d=new ub(b,this);try{e=Vb(c,d)}finally{d.V()}return e});var Xb=function(a){a=String(a);var b;b=/^\s*$/.test(a)?k:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""));if(b)try{return eval("("+a+")")}catch(c){}h(Error("Invalid JSON string: "+a))},Yb=function(){},$b=function(a,b){var c=[];Zb(a,b,c);return c.join("")},Zb=function(a,b,c){switch(typeof b){case "string":ac(a,b,c);
break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==j){c.push("null");break}if(s(b)){var d=b.length;c.push("[");for(var f="",e=0;e<d;e++){c.push(f);Zb(a,b[e],c);f=","}c.push("]");break}c.push("{");d="";for(f in b)if(b.hasOwnProperty(f)){e=b[f];if(typeof e!="function"){c.push(d);ac(a,f,c);c.push(":");Zb(a,e,c);d=","}}c.push("}");break;case "function":break;default:h(Error("Unknown type: "+typeof b))}},
bc={'"':'\\"',"\\":"\\\\","/":"\\/","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\u000b"},cc=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,ac=function(a,b,c){c.push('"',b.replace(cc,function(d){if(d in bc)return bc[d];var f=d.charCodeAt(0),e="\\u";if(f<16)e+="000";else if(f<256)e+="00";else if(f<4096)e+="0";return bc[d]=e+f.toString(16)}),'"')};var dc="StopIteration"in p?p.StopIteration:Error("StopIteration"),ec=function(){};ec.prototype.Xb=function(){h(dc)};ec.prototype.Kb=function(){return this};var fc=function(a){if(typeof a.M=="function")return a.M();if(v(a))return a.split("");if(u(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ia(a)},gc=function(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(u(a)||v(a))Ba(a,b,c);else{var d;if(typeof a.W=="function")d=a.W();else if(typeof a.M!="function")if(u(a)||v(a)){d=[];for(var f=a.length,e=0;e<f;e++)d.push(e);d=d}else d=Ja(a);else d=void 0;f=fc(a);e=f.length;for(var g=0;g<e;g++)b.call(c,f[g],d&&d[g],a)}};var H=function(a){this.u={};this.j=[];var b=arguments.length;if(b>1){if(b%2)h(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.R(arguments[c],arguments[c+1])}else if(a){if(a instanceof H){b=a.W();c=a.M()}else{b=Ja(a);c=Ia(a)}for(var d=0;d<b.length;d++)this.R(b[d],c[d])}};m=H.prototype;m.h=0;m.Ba=0;m.M=function(){hc(this);for(var a=[],b=0;b<this.j.length;b++)a.push(this.u[this.j[b]]);return a};m.W=function(){hc(this);return this.j.concat()};m.I=function(a){return ic(this.u,a)};
m.remove=function(a){if(ic(this.u,a)){delete this.u[a];this.h--;this.Ba++;this.j.length>2*this.h&&hc(this);return i}return k};var hc=function(a){if(a.h!=a.j.length){for(var b=0,c=0;b<a.j.length;){var d=a.j[b];if(ic(a.u,d))a.j[c++]=d;b++}a.j.length=c}if(a.h!=a.j.length){var f={};for(c=b=0;b<a.j.length;){d=a.j[b];if(!ic(f,d)){a.j[c++]=d;f[d]=1}b++}a.j.length=c}};H.prototype.L=function(a,b){if(ic(this.u,a))return this.u[a];return b};
H.prototype.R=function(a,b){if(!ic(this.u,a)){this.h++;this.j.push(a);this.Ba++}this.u[a]=b};H.prototype.fa=function(){return new H(this)};H.prototype.Kb=function(a){hc(this);var b=0,c=this.j,d=this.u,f=this.Ba,e=this,g=new ec;g.Xb=function(){for(;;){if(f!=e.Ba)h(Error("The map has changed since the iterator was created"));if(b>=c.length)h(dc);var l=c[b++];return a?l:d[l]}};return g};var ic=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var jc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");var I=function(a,b){var c;if(a instanceof I){this.ca(b==j?a.t:b);kc(this,a.D);lc(this,a.la);mc(this,a.J);nc(this,a.Q);oc(this,a.$);pc(this,a.v.fa());qc(this,a.ga)}else if(a&&(c=String(a).match(jc))){this.ca(!!b);kc(this,c[1]||"",i);lc(this,c[2]||"",i);mc(this,c[3]||"",i);nc(this,c[4]);oc(this,c[5]||"",i);pc(this,c[6]||"",i);qc(this,c[7]||"",i)}else{this.ca(!!b);this.v=new J(j,this,this.t)}};m=I.prototype;m.D="";m.la="";m.J="";m.Q=j;m.$="";m.ga="";m.Vb=k;m.t=k;
m.toString=function(){if(this.q)return this.q;var a=[];this.D&&a.push(rc(this.D,sc),":");if(this.J){a.push("//");this.la&&a.push(rc(this.la,sc),"@");a.push(tc(this.J));this.Q!=j&&a.push(":",String(this.Q))}if(this.$){this.J&&this.$.charAt(0)!="/"&&a.push("/");a.push(rc(this.$,uc))}var b=String(this.v);b&&a.push("?",b);this.ga&&a.push("#",rc(this.ga,vc));if(this.$.substr(0, 5) == "http:") { this.q = this.$; } else{ this.q = a.join(""); } return this.q};//a.join("")};
m.fa=function(){var a=this.D,b=this.la,c=this.J,d=this.Q,f=this.$,e=this.v.fa(),g=this.ga,l=new I(j,this.t);a&&kc(l,a);b&&lc(l,b);c&&mc(l,c);d&&nc(l,d);f&&oc(l,f);e&&pc(l,e);g&&qc(l,g);return l};
var kc=function(a,b,c){K(a);delete a.q;a.D=c?b?decodeURIComponent(b):"":b;if(a.D)a.D=a.D.replace(/:$/,"");return a},lc=function(a,b,c){K(a);delete a.q;a.la=c?b?decodeURIComponent(b):"":b;return a},mc=function(a,b,c){K(a);delete a.q;a.J=c?b?decodeURIComponent(b):"":b;return a},nc=function(a,b){K(a);delete a.q;if(b){b=Number(b);if(isNaN(b)||b<0)h(Error("Bad port number "+b));a.Q=b}else a.Q=j;return a},oc=function(a,b,c){K(a);delete a.q;a.$=c?b?decodeURIComponent(b):"":b;return a},pc=function(a,b,c){K(a);
delete a.q;if(b instanceof J){a.v=b;a.v.Ta=a;a.v.ca(a.t)}else{c||(b=rc(b,wc));a.v=new J(b,a,a.t)}return a},xc=function(a,b,c){K(a);delete a.q;a.v.R(b,c);return a},qc=function(a,b,c){K(a);delete a.q;a.ga=c?b?decodeURIComponent(b):"":b;return a},K=function(a){if(a.Vb)h(Error("Tried to modify a read-only Uri"))};I.prototype.ca=function(a){this.t=a;this.v&&this.v.ca(a)};
var tc=function(a){if(v(a))return encodeURIComponent(a);return j},yc=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/,rc=function(a,b){var c=j;if(v(a)){c=a;yc.test(c)||(c=encodeURI(a));if(c.search(b)>=0)c=c.replace(b,zc)}return c},zc=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},sc=/[#\/\?@]/g,uc=/[\#\?]/g,wc=/[\#\?@]/g,vc=/#/g,J=function(a,b,c){this.B=a||j;this.Ta=b||j;this.t=!!c},L=function(a){if(!a.f){a.f=new H;if(a.B)for(var b=a.B.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),
f=j,e=j;if(d>=0){f=b[c].substring(0,d);e=b[c].substring(d+1)}else f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));f=Ac(a,f);a.add(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};m=J.prototype;m.f=j;m.h=j;m.add=function(a,b){L(this);Bc(this);a=Ac(this,a);if(this.I(a)){var c=this.f.L(a);s(c)?c.push(b):this.f.R(a,[c,b])}else this.f.R(a,b);this.h++;return this};m.remove=function(a){L(this);a=Ac(this,a);if(this.f.I(a)){Bc(this);var b=this.f.L(a);if(s(b))this.h-=b.length;else this.h--;return this.f.remove(a)}return k};
m.I=function(a){L(this);a=Ac(this,a);return this.f.I(a)};m.W=function(){L(this);for(var a=this.f.M(),b=this.f.W(),c=[],d=0;d<b.length;d++){var f=a[d];if(s(f))for(var e=0;e<f.length;e++)c.push(b[d]);else c.push(b[d])}return c};m.M=function(a){L(this);if(a){a=Ac(this,a);if(this.I(a)){var b=this.f.L(a);if(s(b))return b;else{a=[];a.push(b)}}else a=[]}else{b=this.f.M();a=[];for(var c=0;c<b.length;c++){var d=b[c];s(d)?Fa(a,d):a.push(d)}}return a};
m.R=function(a,b){L(this);Bc(this);a=Ac(this,a);if(this.I(a)){var c=this.f.L(a);if(s(c))this.h-=c.length;else this.h--}this.f.R(a,b);this.h++;return this};m.L=function(a,b){L(this);a=Ac(this,a);if(this.I(a)){var c=this.f.L(a);return s(c)?c[0]:c}else return b};
m.toString=function(){if(this.B)return this.B;if(!this.f)return"";for(var a=[],b=0,c=this.f.W(),d=0;d<c.length;d++){var f=c[d],e=oa(f);f=this.f.L(f);if(s(f))for(var g=0;g<f.length;g++){b>0&&a.push("&");a.push(e);f[g]!==""&&a.push("=",oa(f[g]));b++}else{b>0&&a.push("&");a.push(e);f!==""&&a.push("=",oa(f));b++}}return this.B=a.join("")};var Bc=function(a){delete a.Fa;delete a.B;a.Ta&&delete a.Ta.q};
J.prototype.fa=function(){var a=new J;if(this.Fa)a.Fa=this.Fa;if(this.B)a.B=this.B;if(this.f)a.f=this.f.fa();return a};var Ac=function(a,b){var c=String(b);if(a.t)c=c.toLowerCase();return c};J.prototype.ca=function(a){if(a&&!this.t){L(this);Bc(this);gc(this.f,function(b,c){var d=c.toLowerCase();if(c!=d){this.remove(c);this.add(d,b)}},this)}this.t=a};var Dc=function(a){return Cc(a||arguments.callee.caller,[])},Cc=function(a,b){var c=[];if(Aa(b,a)>=0)c.push("[...circular reference...]");else if(a&&b.length<50){c.push(Ec(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){f>0&&c.push(", ");var e;e=d[f];switch(typeof e){case "object":e=e?"object":"null";break;case "string":e=e;break;case "number":e=String(e);break;case "boolean":e=e?"true":"false";break;case "function":e=(e=Ec(e))?e:"[fn]";break;default:e=typeof e}if(e.length>40)e=e.substr(0,40)+"...";
c.push(e)}b.push(a);c.push(")\n");try{c.push(Cc(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")},Ec=function(a){a=String(a);if(!Fc[a]){var b=/function ([^\(]+)/.exec(a);Fc[a]=b?b[1]:"[Anonymous]"}return Fc[a]},Fc={};var Gc=function(a,b,c,d,f){this.reset(a,b,c,d,f)};Gc.prototype.ya=0;Gc.prototype.lb=j;Gc.prototype.kb=j;var Hc=0;Gc.prototype.reset=function(a,b,c,d,f){this.ya=typeof f=="number"?f:Hc++;this.xc=d||ka();this.ha=a;this.vc=b;this.tc=c;delete this.lb;delete this.kb};Gc.prototype.Fb=function(a){this.ha=a};var M=function(a){this.wb=a};M.prototype.wa=j;M.prototype.ha=j;M.prototype.Da=j;M.prototype.nb=j;var Ic=function(a,b){this.name=a;this.value=b};Ic.prototype.toString=function(){return this.name};var N=new Ic("SEVERE",1E3),Jc=new Ic("WARNING",900),Kc=new Ic("INFO",800),Lc=new Ic("CONFIG",700),O=new Ic("FINE",500),Mc=new Ic("FINEST",300);M.prototype.mb=function(){return this.wb};M.prototype.Fb=function(a){this.ha=a};
var Nc=function(a){if(a.ha)return a.ha;if(a.wa)return Nc(a.wa);za("Root logger has no level set.");return j};M.prototype.log=function(a,b,c){if(a.value>=Nc(this).value){a=this.Rb(a,b,c);for(b=this;b;){c=b;var d=a;if(c.nb)for(var f=0,e=void 0;e=c.nb[f];f++)e(d);b=b.wa}}};
M.prototype.Rb=function(a,b,c){var d=new Gc(a,String(b),this.wb);if(c){d.lb=c;var f;var e=arguments.callee.caller;try{var g,l=aa("window.location.href");g=typeof c=="string"?{message:c,name:"Unknown error",lineNumber:"Not available",fileName:l,stack:"Not available"}:!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:c.lineNumber||c.line||"Not available",fileName:c.fileName||c.filename||c.sourceURL||l,stack:c.stack||"Not available"}:c;f="Message: "+ua(g.message)+'\nUrl: <a href="view-source:'+
g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+ua(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ua(Dc(e)+"-> ")}catch(o){f="Exception trying to expose exception! You win, we lose. "+o}d.kb=f}return d};
var P=function(a,b,c){a.log(Kc,b,c)},Q=function(a,b,c){a.log(Mc,b,c)},Oc={},Pc=j,Qc=function(a){if(!Pc){Pc=new M("");Oc[""]=Pc;Pc.Fb(Lc)}var b;if(!(b=Oc[a])){b=new M(a);var c=a.lastIndexOf("."),d=a.substr(0,c);c=a.substr(c+1);d=Qc(d);if(!d.Da)d.Da={};d.Da[c]=b;b.wa=d;b=Oc[a]=b}return b};var Rc={"1":"NativeMessagingTransport","2":"FrameElementMethodTransport","3":"IframeRelayTransport","4":"IframePollingTransport","5":"FlashTransport","6":"NixTransport"},Sc=["pu","lru","pru","lpu","ppu"],R={},Uc=function(a,b){for(var c=b||Tc,d=c.length,f="";a-- >0;)f+=c.charAt(Math.floor(Math.random()*d));return f},Tc="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",S=Qc("goog.net.xpc");var T=function(a){this.l=a||D()};x(T,y);T.prototype.da=0;T.prototype.e=function(){return this.l.e()};T.prototype.mb=function(){return Rc[this.da]||""};var Vc=function(a,b){this.l=b||D();this.a=a;this.ja=[];this.Pb=w(this.Qb,this)};x(Vc,T);m=Vc.prototype;m.da=2;m.Pa=k;m.lc=0;m.z=function(){if(Wc(this.a)==0){this.C=this.a.X;this.C.XPC_toOuter=w(this.ob,this)}else this.Ya()};
m.Ya=function(){var a=i;try{if(!this.C)this.C=this.e().frameElement;if(this.C&&this.C.XPC_toOuter){this.Ka=this.C.XPC_toOuter;this.C.XPC_toOuter.XPC_toInner=w(this.ob,this);a=k;this.send("tp","SETUP_ACK");U(this.a)}}catch(b){S.log(N,"exception caught while attempting setup: "+b,void 0)}if(a){if(!this.Xa)this.Xa=w(this.Ya,this);this.e().setTimeout(this.Xa,100)}};m.Sa=function(a){if(Wc(this.a)==0&&this.a.p!=2&&a=="SETUP_ACK"){this.Ka=this.C.XPC_toOuter.XPC_toInner;U(this.a)}else h(Error("Got unexpected transport message."))};
m.ob=function(a,b){if(!this.Pa&&this.ja.length==0)V(this.a,a,b);else{this.ja.push({kc:a,Ma:b});if(this.ja.length==1)this.lc=this.e().setTimeout(this.Pb,1)}};m.Qb=function(){for(;this.ja.length;){var a=this.ja.shift();V(this.a,a.kc,a.Ma)}};m.send=function(a,b){this.Pa=i;this.Ka(a,b);this.Pa=k};m.i=function(){Vc.H.i.call(this);this.C=this.Ka=j};var W=function(a,b){this.l=b||D();this.a=a;this.ka=this.a.b.ppu;this.fc=this.a.b.lpu;this.xa=[]},Xc,Yc;x(W,T);W.prototype.da=4;W.prototype.za=0;W.prototype.ea=k;W.prototype.O=k;var Zc=function(a){return"googlexpc_"+a.a.name+"_msg"},$c=function(a){return"googlexpc_"+a.a.name+"_ack"};
W.prototype.z=function(){S.log(O,"transport connect called",void 0);if(!this.O){S.log(O,"initializing...",void 0);var a=Zc(this);this.Z=ad(this,a);this.Ja=this.e().frames[a];a=$c(this);this.S=ad(this,a);this.Ca=this.e().frames[a];this.O=i}if(bd(this,Zc(this))&&bd(this,$c(this))){S.log(O,"foreign frames present",void 0);this.ub=new cd(this,this.a.o.frames[Zc(this)],w(this.ec,this));this.Ua=new cd(this,this.a.o.frames[$c(this)],w(this.dc,this));this.db()}else{Q(S,"foreign frames not (yet) present");
if(Wc(this.a)==1&&!this.gc){Q(S,"innerPeerReconnect called");this.a.name=Uc(10);Q(S,"switching channels: "+this.a.name);dd(this);this.O=k;this.gc=ad(this,"googlexpc_reconnect_"+this.a.name)}else if(Wc(this.a)==0){Q(S,"outerPeerReconnect called");a=this.a.o.frames;for(var b=a.length,c=0;c<b;c++){var d;try{if(a[c]&&a[c].name)d=a[c].name}catch(f){}if(d){var e=d.split("_");if(e.length==3&&e[0]=="googlexpc"&&e[1]=="reconnect"){this.a.name=e[2];dd(this);this.O=k;break}}}}this.e().setTimeout(w(this.z,this),
100)}};
var ad=function(a,b){Q(S,"constructing sender frame: "+b);var c=document.createElement("iframe"),d=c.style;d.position="absolute";d.top="-10px";d.left="10px";d.width="1px";d.height="1px";c.id=c.name=b;c.src=a.ka+"#INITIAL";a.e().document.body.appendChild(c);return c},dd=function(a){Q(S,"deconstructSenderFrames called");if(a.Z){a.Z.parentNode.removeChild(a.Z);a.Z=j;a.Ja=j}if(a.S){a.S.parentNode.removeChild(a.S);a.S=j;a.Ca=j}},bd=function(a,b){Q(S,"checking for receive frame: "+b);try{var c=a.a.o.frames[b];if(!c||
c.location.href.indexOf(a.fc)!=0)return k}catch(d){return k}return i};W.prototype.db=function(){var a=this.a.o.frames;if(a[$c(this)]&&a[Zc(this)]){this.vb=new ed(this.ka,this.Ja);this.na=new ed(this.ka,this.Ca);S.log(O,"local frames ready",void 0);this.e().setTimeout(w(function(){this.vb.send("SETUP");this.ea=this.wc=i;S.log(O,"SETUP sent",void 0)},this),100)}else{if(!this.cb)this.cb=w(this.db,this);this.e().setTimeout(this.cb,100);S.log(O,"local frames not (yet) present",void 0)}};
var fd=function(a){if(a.Qa&&a.Cb){U(a.a);if(a.T){S.log(O,"delivering queued messages ("+a.T.length+")",void 0);for(var b=0,c;b<a.T.length;b++){c=a.T[b];V(a.a,c.jc,c.Ma)}delete a.T}}else Q(S,"checking if connected: ack sent:"+a.Qa+", ack rcvd: "+a.Cb)};
W.prototype.ec=function(a){Q(S,"msg received: "+a);if(a=="SETUP"){if(this.na){this.na.send("SETUP_ACK");Q(S,"SETUP_ACK sent");this.Qa=i;fd(this)}}else if(this.a.p==2||this.Qa){var b=a.indexOf("|"),c=a.substring(0,b);a=a.substring(b+1);b=c.indexOf(",");if(b==-1){var d;this.na.send("ACK:"+c);gd(this,a)}else{d=c.substring(0,b);this.na.send("ACK:"+d);c=c.substring(b+1).split("/");b=parseInt(c[0],10);c=parseInt(c[1],10);if(b==1)this.La=[];this.La.push(a);if(b==c){gd(this,this.La.join(""));delete this.La}}}else S.log(Jc,
"received msg, but channel is not connected",void 0)};W.prototype.dc=function(a){Q(S,"ack received: "+a);if(a=="SETUP_ACK"){this.ea=k;this.Cb=i;fd(this)}else if(this.a.p==2)if(this.ea)if(parseInt(a.split(":")[1],10)==this.za){this.ea=k;hd(this)}else S.log(Jc,"got ack with wrong sequence",void 0);else S.log(Jc,"got unexpected ack",void 0);else S.log(Jc,"received ack, but channel not connected",void 0)};
var hd=function(a){if(!(a.ea||!a.xa.length)){var b=a.xa.shift();++a.za;a.vb.send(a.za+b);Q(S,"msg sent: "+a.za+b);a.ea=i}},gd=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c);c=b.substring(c+1);if(a.a.p==2)V(a.a,d,c);else{(a.T||(a.T=[])).push({jc:d,Ma:c});Q(S,"queued delivery")}};W.prototype.ma=3800;
W.prototype.send=function(a,b){var c=a+":"+b;if(!A||b.length<=this.ma)this.xa.push("|"+c);else for(var d=b.length,f=Math.ceil(d/this.ma),e=0,g=1;e<d;){this.xa.push(","+g+"/"+f+"|"+c.substr(e,this.ma));g++;e+=this.ma}hd(this)};W.prototype.i=function(){W.H.i.call(this);var a=id;Ca(a,this.ub);Ca(a,this.Ua);this.ub=this.Ua=j;rb(this.Z);rb(this.S);this.Ja=this.Ca=this.Z=this.S=j};
var id=[],jd=w(function(){var a=k;try{for(var b=0,c=id.length;b<c;b++){var d;if(!(d=a)){var f=id[b],e=f.Bb.location.href;if(e!=f.ib){f.ib=e;var g=e.split("#")[1];if(g){g=g.substr(1);f.Lb(decodeURIComponent(g))}d=i}else d=k}a=d}}catch(l){P(S,"receive_() failed: "+l);b=id[b].k.a;P(S,"Transport Error");b.close();if(!id.length)return}b=ka();if(a)Xc=b;Yc=window.setTimeout(jd,b-Xc<1E3?10:100)},W),kd=function(){S.log(O,"starting receive-timer",void 0);Xc=ka();Yc&&window.clearTimeout(Yc);Yc=window.setTimeout(jd,
10)},ed=function(a,b){this.ka=a;this.Eb=b;this.Ea=0};ed.prototype.send=function(a){this.Ea=++this.Ea%2;a=this.ka+"#"+this.Ea+encodeURIComponent(a);try{if(B)this.Eb.location.href=a;else this.Eb.location.replace(a)}catch(b){S.log(N,"sending failed",b)}kd()};var cd=function(a,b,c){this.k=a;this.Bb=b;this.Lb=c;this.ib=this.Bb.location.href.split("#")[0]+"#INITIAL";id.push(this);kd()};var X=function(a,b){this.l=b||D();this.a=a;this.bc=this.a.b.pru;this.zb=this.a.b.ifrid;B&&ld()};x(X,T);if(B)var md=[],nd=0,ld=function(){nd||(nd=window.setTimeout(function(){od()},1E3))},od=function(a){var b=ka();for(a=a||3E3;md.length&&b-md[0].mc>=a;){var c=md.shift().Ub;rb(c);Q(S,"iframe removed")}nd=window.setTimeout(pd,1E3)},pd=function(){od()};X.prototype.da=3;X.prototype.z=function(){this.e().xpcRelay||(this.e().xpcRelay=qd);this.send("tp","SETUP")};
var qd=function(a,b){var c=b.indexOf(":"),d=b.substring(0,c);c=b.substring(c+1);V(R[a],d,decodeURIComponent(c))};X.prototype.Sa=function(a){if(a=="SETUP"){this.send("tp","SETUP_ACK");U(this.a)}else a=="SETUP_ACK"&&U(this.a)};
X.prototype.send=function(a,b){if(A){var c=this.e().document.createElement("div");c.innerHTML='<iframe onload="this.xpcOnload()"></iframe>';c=c.childNodes[0];c.oc=rd}else{c=this.e().document.createElement("iframe");B?md.push({mc:ka(),Ub:c}):Qb(c,"load",rd)}var d=c.style;d.visibility="hidden";d.width=c.style.height="0px";d.position="absolute";d=this.bc;d+="#"+this.a.name;if(this.zb)d+=","+this.zb;d+="|"+a+":"+encodeURIComponent(b);c.src=d;this.e().document.body.appendChild(c);Q(S,"msg sent: "+d)};
var rd=function(){Q(S,"iframe-load");rb(this);this.oc=j};X.prototype.i=function(){X.H.i.call(this);B&&od(0)};var Y=function(a,b,c){this.l=c||D();this.a=a;this.yb=b||"*"};x(Y,T);Y.prototype.O=k;Y.prototype.da=1;
var sd={},td=function(a){var b=a.Ha.data,c=b.indexOf("|"),d=b.indexOf(":");if(c==-1||d==-1)return k;a=b.substring(0,c);c=b.substring(c+1,d);b=b.substring(d+1);S.log(O,"messageReceived: channel="+a+", service="+c+", payload="+b,void 0);if(d=R[a]){V(d,c,b);return i}for(var f in R){d=R[f];if(Wc(d)==1&&d.p!=2&&c=="tp"&&b=="SETUP"){S.log(O,"changing channel name to "+a,void 0);d.name=a;delete R[f];R[a]=d;V(d,c,b);return i}}P(S,'channel name mismatch; message ignored"');return k};m=Y.prototype;
m.Sa=function(a){switch(a){case "SETUP":this.send("tp","SETUP_ACK");break;case "SETUP_ACK":U(this.a)}};m.z=function(){var a=this.e(),b=ha(a),c=sd[b];typeof c=="number"||(c=0);if(c==0)Qb(a.postMessage?a:a.document,"message",td,k,Y);sd[b]=c+1;this.O=i;this.gb()};m.gb=function(){if(!(this.a.p==2||this.qa)){this.send("tp","SETUP");this.e().setTimeout(w(this.gb,this),100)}};
m.send=function(a,b){var c=this.a.o;if(c){var d=c.postMessage?c:c.document;this.send=function(f,e){S.log(O,"send(): payload="+e+" to hostname="+this.yb,void 0);d.postMessage(this.a.name+"|"+f+":"+e,this.yb)};this.send(a,b)}else S.log(O,"send(): window not ready",void 0)};m.i=function(){Y.H.i.call(this);if(this.O){var a=this.e(),b=ha(a),c=sd[b];sd[b]=c-1;if(c==1)Sb(a.postMessage?a:a.document,"message",td,k,Y)}};var ud=function(a,b){this.l=b||D();this.a=a;this.Za=a.at||"";this.Db=a.rat||"";var c=this.e();if(!c.nix_setup_complete)try{c.execScript("Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport.GCXPC____NIXJS_handle_message(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport.GCXPC____NIXJS_create_channel(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function",
"vbscript");c.nix_setup_complete=i}catch(d){S.log(N,"exception caught while attempting global setup: "+d,void 0)}this.GCXPC____NIXJS_handle_message=this.Sb;this.GCXPC____NIXJS_create_channel=this.Mb};x(ud,T);m=ud.prototype;m.da=6;m.Y=k;m.G=j;m.z=function(){Wc(this.a)==0?this.Wa():this.Va()};
m.Wa=function(){if(!this.Y){var a=this.a.X;try{a.contentWindow.opener=this.e().GCXPC____NIXVBS_get_wrapper(this,this.Za);this.Y=i}catch(b){S.log(N,"exception caught while attempting setup: "+b,void 0)}this.Y||this.e().setTimeout(w(this.Wa,this),100)}};
m.Va=function(){if(!this.Y){try{var a=this.e().opener;if(a&&"GCXPC____NIXVBS_container"in a){this.G=a;if(this.G.GetAuthToken()!=this.Db){S.log(N,"Invalid auth token from other party",void 0);return}this.G.CreateChannel(this.e().GCXPC____NIXVBS_get_wrapper(this,this.Za));this.Y=i;U(this.a)}}catch(b){S.log(N,"exception caught while attempting setup: "+b,void 0);return}this.Y||this.e().setTimeout(w(this.Va,this),100)}};
m.Mb=function(a){if(typeof a!="unknown"||!("GCXPC____NIXVBS_container"in a))S.log(N,"Invalid NIX channel given to createChannel_",void 0);this.G=a;this.G.GetAuthToken()!=this.Db?S.log(N,"Invalid auth token from other party",void 0):U(this.a)};m.Sb=function(a,b){this.e().setTimeout(w(function(){V(this.a,a,b)},this),1)};m.send=function(a,b){typeof this.G!=="unknown"&&S.log(N,"NIX channel not connected",void 0);this.G.SendMessage(a,b)};m.i=function(){ud.H.i.call(this);this.G=j};var Z=function(a,b){for(var c=0,d;d=Sc[c];c++)if(d in a&&!/^https?:\/\//.test(a[d]) && !/^(chrome-extension|resource):\/\//.test(a[d])){h(Error("URI "+a[d]+" is invalid for field "+d));}else if(/^(chrome-extension|resource):\/\//.test(a[d])){a[d] = myHost + "/_ah/channel/xpc_blank";}this.b=a;this.name=this.b.cn||Uc(10);this.Ra={};this.l=b||D();R[this.name]=this;Qb(window,"unload",vd);P(S,"CrossPageChannel created: "+this.name)};x(Z,y);Z.prototype.k=j;Z.prototype.p=1;Z.prototype.o=j;Z.prototype.X=j;
var wd=function(a){var b={};b.cn=a.name;b.tp=a.b.tp;if(a.b.lru)b.pru=a.b.lru;if(a.b.lpu)b.ppu=a.b.lpu;if(a.b.ppu)b.lpu=a.b.ppu;return b},xd=function(a,b,c,d){var f=a.b.ifrid;f||(f=a.b.ifrid="xpcpeer"+Uc(4));var e=document.createElement("IFRAME");e.id=e.name=f;if(c)c(e);else e.style.width=e.style.height="100%";var g=a.b.pu;if(v(g))g=a.b.pu=new I(g);d!==k&&xc(g,"xpc",$b(new Yb,wd(a)));if(Wa||B){a.Ga=i;window.setTimeout(w(function(){this.Ga=k;b.appendChild(e);e.src=g.toString();P(S,"peer iframe created ("+
f+")");this.fb&&this.z(this.eb)},a),1)}else{e.src=g.toString();b.appendChild(e);P(S,"peer iframe created ("+f+")")}return e};Z.prototype.Ga=k;Z.prototype.fb=k;
Z.prototype.z=function(a){this.eb=a||ba;if(this.Ga){P(S,"connect() deferred");this.fb=i}else{P(S,"connect()");if(this.b.ifrid)this.X=v(this.b.ifrid)?this.l.r.getElementById(this.b.ifrid):this.b.ifrid;if(this.X){(a=this.X.contentWindow)||(a=window.frames[this.b.ifrid]);this.o=a}if(!this.o)if(window==top)h(Error("CrossPageChannel: Can't connect, peer window-object not set."));else this.o=window.parent;if(!this.k){if(!this.b.tp){a=this.b;var b;if(da(document.postMessage)||da(window.postMessage)||A&&
window.postMessage)b=1;else if(Wa)b=2;else if(A&&this.b.pru)b=3;else if(A)b=6;else if(this.b.lpu&&this.b.ppu)b=4;a.tp=b}switch(this.b.tp){case 1:this.k=new Y(this,this.b.ph,this.l);break;case 6:this.k=new ud(this,this.l);break;case 2:this.k=new Vc(this,this.l);break;case 3:this.k=new X(this,this.l);break;case 4:this.k=new W(this,this.l)}if(this.k)P(S,"Transport created: "+this.k.mb());else h(Error("CrossPageChannel: No suitable transport found!"))}this.k.z()}};
Z.prototype.close=function(){if(this.p==2){this.p=3;this.k.V();this.k=j;P(S,'Channel "'+this.name+'" closed')}};var U=function(a){if(a.p!=2){a.p=2;P(S,'Channel "'+a.name+'" connected');a.eb()}},yd=function(a,b,c,d){a.Ra[b]={name:b,ab:c,Wb:!!d}};Z.prototype.send=function(a,b){if(this.p==2)if(this.o.closed){S.log(N,"Peer has disappeared.",void 0);this.close()}else{if(ea(b))b=$b(new Yb,b);this.k.send(a,b)}else S.log(N,"Can't send. Channel not connected.",void 0)};
var V=function(a,b,c){if(a.qa)S.log(Jc,"CrossPageChannel::deliver_(): Disposed.",void 0);else if(!b||b=="tp")a.k.Sa(c);else if(a.p==2){var d=a.Ra[b];if(d){if(d.Wb)try{c=Xb(c)}catch(f){P(S,"Error parsing JSON-encoded payload.");return}d.ab(c)}else a.Ob?a.Ob.ab(c):P(S,'CrossPageChannel::deliver_(): No such service: "'+b+'" (payload: '+c+")")}else P(S,"CrossPageChannel::deliver_(): Not connected.")},Wc=function(a){return window.parent==a.o?1:0};
Z.prototype.i=function(){Z.H.i.call(this);this.close();this.X=this.o=j;delete this.Ra;delete R[this.name]};var vd=function(){for(var a in R){var b=R[a];b&&b.V()}};var zd=function(a,b){if(A)a.cssText=b;else a[B?"innerText":"innerHTML"]=b};var Ad=function(a,b,c,d){d=new I((d||"http://talkgadget.google.com")+"/talkgadget/d");xc(d,"token",a);a=c||"wcs-iframe";c="#"+a+" { display: none; }";var f=D(void 0),e=j;if(A){e=f.r.createStyleSheet();zd(e,c)}else{var g=mb(f.r,"head",void 0,void 0)[0];if(!g){e=mb(f.r,"body",void 0,void 0)[0];g=f.hb("head");e.parentNode.insertBefore(g,e)}e=f.hb("style");zd(e,c);f.appendChild(g,e)}f=new I(window.location.href);c=new I;kc(c,f.D);mc(c,f.J);nc(c,f.Q);oc(c,b);b={};b.ppu=c.toString();b.lpu="http://talkgadget.google.com/talkgadget/xpc_blank";
b.ifrid=a;b.pu=d.toString();Z.call(this,b)};x(Ad,Z);r("chat.WcsCrossPageChannel",Ad,void 0);var Bd=j,Cd=j,Dd=j;var $=function(a,b,c,d,f){this.readyState=0;this.Oa=[];this.onopen=b.onopen;this.onmessage=b.onmessage;this.onerror=b.onerror;this.onclose=b.onclose;this.F=new Ad(a,"/ah/channel/xpc_blank");this.sa=c?d:"wcs-iframe";this.tb=f||new Ed(a);xd(this.F,document.body,undefined,i);yd(this.F,"opened",w(this.ac,this));yd(this.F,"onMessage",w(this.$b,this));yd(this.F,"onError",w(this.Zb,this));yd(this.F,"onClosed",w(this.Yb,this));this.F.z(w(function(){},this))};$.prototype.send=function(){return k};
$.prototype.close=function(){this.readyState=2;this.F.send("disconnect","")};$.prototype.ic=function(){for(var a=0,b;b=this.Oa[a];a++)switch(b.type){case 0:this.onopen(b.ra);break;case 1:this.onmessage(b.ra);break;case 2:this.onerror(b.ra);break;case 3:this.onclose(b.ra)}this.Oa=[]};var Fd=function(a,b,c){a.Oa.push({type:b,ra:c});window.setTimeout(w(a.ic,a),1)};
$.prototype.$b=function(a){a=Xb(a);var b=a.m;a=a.s;for(var c=this.tb,d=[],f=0,e=0;e<b.length;e++){for(var g=b.charCodeAt(e);g>255;){d[f++]=g&255;g>>=8}d[f++]=g}d.push(c.ya);c=c.Tb;c.reset();c.w(d);a:{d=c.U();if(!u(d)||!u(a)||d.length!=a.length)a=k;else{c=d.length;for(f=0;f<c;f++)if(d[f]!==a[f]){a=k;break a}a=i}}a&&Fd(this,1,{data:b});this.tb.ya++};$.prototype.Zb=function(a){a=Xb(a);Fd(this,2,{description:a.d,code:a.c})};$.prototype.ac=function(){this.readyState=1;Fd(this,0,{})};
$.prototype.Yb=function(){this.F.close();this.readyState=3;Fd(this,3,{});if(this.sa){var a=new lb,b=v(this.sa)?a.r.getElementById(this.sa):this.sa;b&&a.removeNode(b)}};
var Ed=function(a,b,c){for(;a.length%4!=0;)a+=".";this.ya=0;a=a;if(a.length%4)h(Error("Length of b64-encoded data must be zero mod four"));if(!Bd){Bd={};Cd={};Dd={};for(var d=0;d<65;d++){Bd[d]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d);Cd[d]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(d);Dd[Cd[d]]=d}}d=Dd;for(var f=[],e=0;e<a.length;e+=4){var g=d[a.charAt(e)],l=d[a.charAt(e+1)],o=d[a.charAt(e+2)],n=d[a.charAt(e+3)];if(g==j||l==j||o==
j||n==j)h(Error());f.push(g<<2|l>>4);if(o!=64){f.push(l<<4&240|o>>2);n!=64&&f.push(o<<6&192|n)}}this.Gb=f;this.n=b||new SHA1;this.Tb=c||new G_HMAC(this.n,this.Gb,this.Gb.length)};r("goog.appengine.Socket",$,void 0);r("goog.appengine.Socket.ReadyState",{rc:0,sc:1,qc:2,pc:3},void 0);r("goog.appengine.Socket.ReadyState.CONNECTING",0,void 0);r("goog.appengine.Socket.ReadyState.OPEN",1,void 0);r("goog.appengine.Socket.ReadyState.CLOSING",2,void 0);r("goog.appengine.Socket.ReadyState.CLOSED",3,void 0);
r("goog.appengine.Socket.prototype.send",$.prototype.send,void 0);r("goog.appengine.Socket.prototype.close",$.prototype.close,void 0);var Gd=function(a){this.nc=a},Hd={onopen:function(){},onclose:function(){},onerror:function(){},onmessage:function(){}};Gd.prototype.open=function(a){a=a||Hd;return new $(this.nc,a)};r("goog.appengine.Channel",Gd,void 0);r("goog.appengine.Channel.prototype.open",Gd.prototype.open,void 0);SHA1=function(){this.g=Array(5);this.pa=Array(64);this.Jb=Array(80);this.va=Array(64);this.va[0]=128;for(var a=1;a<64;++a)this.va[a]=0;this.reset()};SHA1.prototype.reset=function(){this.g[0]=1732584193;this.g[1]=4023233417;this.g[2]=2562383102;this.g[3]=271733878;this.g[4]=3285377520;this.Aa=this.N=0};
var Id=function(a,b){for(var c=a.Jb,d=0;d<64;d+=4)c[d/4]=b[d]<<24|b[d+1]<<16|b[d+2]<<8|b[d+3];for(d=16;d<80;++d)c[d]=((c[d-3]^c[d-8]^c[d-14]^c[d-16])<<1|(c[d-3]^c[d-8]^c[d-14]^c[d-16])>>>31)&4294967295;var f=a.g[0],e=a.g[1],g=a.g[2],l=a.g[3],o=a.g[4],n,E;for(d=0;d<80;++d){if(d<40)if(d<20){n=l^e&(g^l);E=1518500249}else{n=e^g^l;E=1859775393}else if(d<60){n=e&g|l&(e|g);E=2400959708}else{n=e^g^l;E=3395469782}n=((f<<5|f>>>27)&4294967295)+n+o+E+c[d]&4294967295;o=l;l=g;g=(e<<30|e>>>2)&4294967295;e=f;f=n}a.g[0]=
a.g[0]+f&4294967295;a.g[1]=a.g[1]+e&4294967295;a.g[2]=a.g[2]+g&4294967295;a.g[3]=a.g[3]+l&4294967295;a.g[4]=a.g[4]+o&4294967295};SHA1.prototype.w=function(a,b){if(!b)b=a.length;var c=0;if(this.N==0)for(;c+64<b;){Id(this,a.slice(c,c+64));c+=64;this.Aa+=64}for(;c<b;){this.pa[this.N++]=a[c++];++this.Aa;if(this.N==64){this.N=0;for(Id(this,this.pa);c+64<b;){Id(this,a.slice(c,c+64));c+=64;this.Aa+=64}}}};
SHA1.prototype.U=function(){var a=Array(20),b=this.Aa*8;this.N<56?this.w(this.va,56-this.N):this.w(this.va,64-(this.N-56));for(var c=63;c>=56;--c){this.pa[c]=b&255;b>>>=8}Id(this,this.pa);for(c=b=0;c<5;++c)for(var d=24;d>=0;d-=8)a[b++]=this.g[c]>>d&255;return a};G_HMAC=function(a,b,c){if(!a||typeof a!="object"||!a.reset||!a.w||!a.U)h(Error("Invalid hasher object. Hasher unspecified or does not implement expected interface."));if(b.constructor!=Array)h(Error("Invalid key."));if(c&&typeof c!="number")h(Error("Invalid block size."));this.n=a;this.oa=c||16;this.rb=Array(this.oa);this.qb=Array(this.oa);if(b.length>this.oa){this.n.w(b);b=this.n.U()}for(c=0;c<this.oa;c++){a=c<b.length?b[c]:0;this.rb[c]=a^G_HMAC.Ib;this.qb[c]=a^G_HMAC.Hb}};G_HMAC.Ib=92;
G_HMAC.Hb=54;G_HMAC.prototype.reset=function(){this.n.reset();this.n.w(this.qb)};G_HMAC.prototype.w=function(a){if(a.constructor!=Array)h(Error("Invalid data. Data must be an array."));this.n.w(a)};G_HMAC.prototype.U=function(){var a=this.n.U();this.n.reset();this.n.w(this.rb);this.n.w(a);return this.n.U()}; })()
